#!/usr/bin/env zsh

# Check for binary dependencies and Docker daemon status
local dep
for dep in "$@"; do
    if ! command -v "$dep" >/dev/null 2>&1; then
        echo >&2 -e "\033[0;31mError:\033[0m '$dep' is not installed."
        return 1
    fi
done

# Fast daemon check to ensure Docker is responsive
if ! docker info >/dev/null 2>&1; then
    echo >&2 -e "\033[0;31mError:\033[0m Docker daemon is not running or accessible."
    return 1
fi
