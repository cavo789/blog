# remark-tree-to-component

A **Docusaurus Remark plugin** that automatically converts fenced code blocks with the language identifier `tree` into a structured [Trees component](https://docuxlab.com/blog/trees-component-docusaurus/) (created by Docux).

This plugin is designed to take the raw output of the Linux `tree` command and transform it into a beautiful, interactive file tree in your Docusaurus documentation.

## âœ¨ Features

* Converts tree-style code blocks into `<Trees>`, `<Folder>` and `<File>` MDX components.
* Supports **[icons of Iconify](https://icon-sets.iconify.design/)** for many file types (JS, JSON, Docker, Markdown, etc.).
* Configurable attributes:
  * `expanded` â†’ expand all folders by default
  * `showJSX` â†’ display the generated JSX code alongside the rendered tree
  * `debug` â†’ show parsed settings as JSON
  * `title` â†’ add a title above the tree
* Works seamlessly with Docusaurus MDX pages.

## âš™ï¸ Installation and Setup

1. **Plugin Placement**: Place the plugin code inside your project at the specified path: `plugins/remark-tree-to-component/index.cjs`

2. **Docusaurus Configuration**: Register the plugin in your `docusaurus.config.js`:

```javascript
// docusaurus.config.js

import remarkTreeToComponent from "./plugins/remark-tree-to-component/index.cjs";
// ... other config

const config = {
  // ... other config
  presets: [
    [
      "classic",
      /** @type {import('@docusaurus/preset-classic').Options} */
      ({
        // ... other config
        blog: {
          // ... other config
          beforeDefaultRemarkPlugins: [
            remarkTreeToComponent,
            // ... other config
          ],
        },
        // ... other config
      }),
    ],
  ],
  // ... other config
};

export default config;
```

## ğŸ–¼ Example: Basic Tree

If you write this in your MDX file:

````md
```tree
.
â”œâ”€â”€ src
â”‚   â”œâ”€â”€ index.js
â”‚   â””â”€â”€ App.js
â”œâ”€â”€ package.json
â””â”€â”€ README.md
```
````

the plugin will generate this:

````md
```html
<Trees>
  <Folder label="src" icon="flat-color-icons:folder">
    <File label="index.js" icon="logos:javascript" />
    <File label="App.js" icon="logos:javascript" />
  </Folder>
  <File label="package.json" icon="ix:json-document" />
  <File label="README.md" icon="ph:markdown-logo" />
</Trees>
```
````

And rendered in Docusaurus, youâ€™ll see the Docux Trees component with icons.

If you want to see live, please consult the official documentation of Docux: [Component Trees](https://docuxlab.com/blog/trees-component-docusaurus/)

## ğŸ”§ Options

You can pass options directly in the code block header:

### 1. `expanded`

Expands all folders by default.

````md
```tree expanded=true
.
â”œâ”€â”€ docs
â”‚   â”œâ”€â”€ intro.md
â”‚   â””â”€â”€ tutorial.md
â””â”€â”€ docusaurus.config.js
```
````

### 2. `title`

Adds a title above the tree.

````md
```tree title="My Project Structure"
.
â”œâ”€â”€ src
â”‚   â””â”€â”€ index.js
â””â”€â”€ package.json
```
````

### 3. `showJSX`

Displays the generated JSX code block before the rendered tree.

````md
```tree showJSX=true
.
â”œâ”€â”€ src
â”‚   â””â”€â”€ index.js
â””â”€â”€ package.json
```
````

This will render both the `<Trees>` component and a syntax-highlighted JSX snippet.

### 4. `debug`

Shows the parsed settings as a JSON block for debugging.

````md
```tree debug=true expanded=true title="Debug Example"
.
â”œâ”€â”€ src
â”‚   â””â”€â”€ index.js
â””â”€â”€ package.json
```
````

## ğŸ§© Combined Example

You can combine multiple attributes:

````md
```tree expanded=true showJSX=true title="Full Example"
.
â”œâ”€â”€ src
â”‚   â”œâ”€â”€ index.js
â”‚   â””â”€â”€ App.js
â”œâ”€â”€ package.json
â””â”€â”€ README.md
```
````

This will:

* Expand all folders
* Show the JSX code
* Add a title above the tree

## ğŸ“š Advanced Example with Docker & Config Files

````md
```tree expanded=true title="Docusaurus Project"
.
â”œâ”€â”€ docs
â”‚   â”œâ”€â”€ intro.md
â”‚   â””â”€â”€ tutorial.md
â”œâ”€â”€ docusaurus.config.js
â”œâ”€â”€ Dockerfile
â”œâ”€â”€ docker-compose.yml
â”œâ”€â”€ package.json
â””â”€â”€ README.md
```
````

Output will include proper **icons** for Docker, JSON, Markdown, and Docusaurus config.

## ğŸ›  How It Works

1. The plugin scans all fenced code blocks in your MDX files.
2. If the block starts with tree, it:
    * Parses the ASCII tree structure.
    * Converts it into a hierarchy of `<Trees>`, `<Folder>` and `<File>` components.
    * Adds icons based on file extensions or special filenames.
3. Optionally, it inserts debug info or JSX code blocks.

## ğŸ™ Credits

The [Trees](https://docuxlab.com/blog/trees-component-docusaurus/) component is created by Docux. That component is also using [LogoIcon](https://docuxlab.com/blog/logoicon-component-docusaurus/); another component of Docux.

## ğŸ“œ License

MIT

## ğŸ’¬ AI generated

This code has been generated by Christophe Avonture using AI.
