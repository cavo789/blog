# remark-tree-to-component

A Remark/MDX plugin for Docusaurus that converts **`tree` code blocks** into nested `<Trees>` / `<Folder>` / `<File>` JSX components.

The **Trees component** has been created by Docux and you can find it here: [Component Trees](https://docuxlab.com/blog/trees-component-docusaurus/).

It supports **folder/file icons** and optional **expanded/collapsed state** for folders.

## Features

* Converts tree-like code blocks into nested JSX components.
* Auto-detects file type icons based on file extension.
* Supports `expanded=true/false` at the code block level.
* Nested folders preserve hierarchy.
* Safe: wonâ€™t crash if code block has no language or malformed meta.

## âš™ï¸ Installation and Setup

1. **Plugin Placement**: Place the plugin code inside your project at the specified path: `plugins/remark-tree-to-component/index.cjs`

2. **Docusaurus Configuration**: Register the plugin in your `docusaurus.config.js`:

```javascript
// docusaurus.config.js

import remarkTreeToComponent from "./plugins/remark-tree-to-component/index.cjs";
// ... other config

const config = {
  // ... other config
  presets: [
    [
      "classic",
      /** @type {import('@docusaurus/preset-classic').Options} */
      ({
        // ... other config
        blog: {
          // ... other config
          beforeDefaultRemarkPlugins: [
            remarkTreeToComponent,
            // ... other config
          ],
        },
        // ... other config
      }),
    ],
  ],
  // ... other config
};

export default config;
```

## Usage

### Basic tree

````md
```tree
.
â”œâ”€â”€ src
â”‚   â”œâ”€â”€ components
â”‚   â”‚   â””â”€â”€ App.jsx
â””â”€â”€ index.js
```
````

will generate this:

```jsx
<Trees>
  <Folder label="src" expanded={false} icon="flat-color-icons:folder">
    <Folder label="components" expanded={false} icon="flat-color-icons:folder">
      <File label="App.jsx" icon="logos:javascript" />
    </Folder>
  </Folder>
  <File label="index.js" icon="logos:javascript" />
</Trees>
```

By default, all folders are collapsed (`expanded=false`).

### Tree with expanded folders

````md
```tree expanded=true
.
â”œâ”€â”€ src
â”‚   â”œâ”€â”€ components
â”‚   â”‚   â””â”€â”€ App.jsx
â””â”€â”€ index.js
```
````

will generate this:

```jsx
<Trees>
  <Folder label="src" expanded={true} icon="flat-color-icons:folder">
    <Folder label="components" expanded={true} icon="flat-color-icons:folder">
      <File label="App.jsx" icon="logos:javascript" />
    </Folder>
  </Folder>
  <File label="index.js" icon="logos:javascript" />
</Trees>
```

All folders are expanded (`expanded=true`).

### Notes

* Only the **root** `tree` **code block** can have the `expanded` setting. All nested folders inherit it.
* File icons are automatically determined based on file extension (`.js`, `.jsx`, `.py`, etc.).
* Folder icons default to `flat-color-icons:folder`.

### Example

````md
```tree expanded=false
.
â”œâ”€â”€ src
â”‚   â”œâ”€â”€ components
â”‚   â”‚   â”œâ”€â”€ Trees
â”‚   â”‚   â”‚   â””â”€â”€ index.js
â”‚   â”‚   â””â”€â”€ App.jsx
â”‚   â””â”€â”€ index.js
â””â”€â”€ TreeItem.js
```
````

will generate this:

```jsx
<Trees>
  <Folder label="src" expanded={false} icon="flat-color-icons:folder">
    <Folder label="components" expanded={false} icon="flat-color-icons:folder">
      <Folder label="Trees" expanded={false} icon="flat-color-icons:folder">
        <File label="index.js" icon="logos:javascript" />
      </Folder>
      <File label="App.jsx" icon="logos:javascript" />
    </Folder>
    <File label="index.js" icon="logos:javascript" />
  </Folder>
  <File label="TreeItem.js" icon="logos:javascript" />
</Trees>
```

## ğŸ“„ License

MIT

## ğŸ’¬ AI generated

This code has been generated by Christophe Avonture using AI.
