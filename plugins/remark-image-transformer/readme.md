# remark-image-transformer

A custom [remark](https://github.com/remarkjs/remark) plugin for [Docusaurus](https://docusaurus.io/) that replaces Markdown image nodes with MDX-compatible `<Image />` components. This enables dynamic image loading, enhanced metadata, and better integration with Docusaurus features like `useBaseUrl`.

## âœ¨ Features

* Skips the first image in the Markdown file (useful for hero banners or cover images)
* Converts subsequent images to `<Image />` MDX components
* Supports:
  * Relative paths (`./img.png`) â†’ `require(...)`
  * Absolute paths (`/img/foo.png`) â†’ `useBaseUrl(...)`
  * External URLs â†’ passed as raw string
* Adds `alt`, `title`, and a unique `name` attribute to each image

## ğŸ§© Installation

Make sure your project uses React and Docusaurus 3.x. Then save plugin with this name: `plugins/remark-image-transformer/remark-image-transformer/remark-image-transformer.js`.

Then add the plugin to your `docusaurus.config.js` file:

```js
const config = {
  // [ ... ]
  presets: [
    [
      'classic',
      ({
        blog: {
          // highlight-next-line
          beforeDefaultRemarkPlugins: [require('./plugins/remark-image-transformer')],
        },
        // [ ... ]
      }),
    ],
  ],
};

export default config;

```

## ğŸ§  How It Works

This plugin traverses the Markdown AST using unist-util-visit, identifies image nodes, and replaces them with MDX JSX elements. It uses acorn to parse expressions for dynamic imports and base URL resolution.

## ğŸ“ Example

In your Markdown post, continue to write things like this:

```md
![Alt text](./img/example.png "Image title")
```

And it'll be transformed to this thanks this plugin:

```jsx
<Image
  alt="Alt text"
  title="Image title"
  img={require("./img/example.png").default}
/>
```

## ğŸ§ª Development Tips

You can log the AST or use tools like AST Explorer to visualize transformations.

Useful for customizing image rendering in blog posts, documentation, or MDX pages.

## ğŸ“œ License

MIT

## ğŸ’¬ AI generated

This code has been generated by Christophe Avonture using AI.
