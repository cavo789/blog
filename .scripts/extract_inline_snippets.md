# Documentation Snippet Externalizer

This Python script (`extract_inline_snippets.py`) automates the process of moving inline code blocks from Markdown documentation into separate, external files. This is useful for maintaining clean documentation while ensuring that code files can be easily referenced, reused, and managed.

## üöÄ How It Works

The script searches for custom `<Snippet>` tags in your Markdown files:

**Before:**

````markdown
<Snippet filename="compose.yaml">

```yaml
services:
  web:
    image: nginx
```

</Snippet>
````

**After Running the Script:**

1. A directory named `files/` is created (relative to the Markdown file).
2. A new file `files/compose.yaml` is created with the content:

    ```yaml
    services:
      web:
        image: nginx
    ```

3. The original Markdown block is replaced with:

    ```markdown
    <Snippet filename="compose.yaml" source="./files/compose.yaml" />
    ```

So, in short, the script will externalize the content of a `<Snippet>` tag by putting the content in an external file.

Among other advantages:

* The `.md` file size is smaller,
* You can focus on the content of the article
* If you modify the external file (from the `files/` folder), the article is automatically updated
* It is easier to format both the Markdown file and external files with the appropriate tools,
* ...

### Key Features

| Feature | Description |
| --- | --- |
| **Path Handling** | Automatically strips directory paths from the `filename` attribute (e.g., `/etc/nginx/conf.d/default.conf` becomes `default.conf`). |
| **Conflict Resolution** | If an external file already exists, the script appends a suffix (e.g., `default.conf.part2`). |
| **Conditional Folder** | The `files/` subdirectory is only created if there is content to externalize. |
| **Markdown Exclusion**| Snippets targeting files ending in `.md` are ignored and left in place. |

## ‚öôÔ∏è Setup and Usage

### 1. Save the Script

Save the Python code as `extract_inline_snippets.py`.

### 2. Configure File Pattern

Open `extract_inline_snippets.py` and set the `markdown_files_pattern` variable near the bottom of the script to match your documentation structure.

```python
# Recommended default: './**/*.md' to process all files recursively.
markdown_files_pattern = './**/*.md' # <--- Adjust this if needed
```

### 3. Run the Script

Navigate to your project's root directory in your terminal and run the script:

```bash
python extract_inline_snippets.py
```

The script will output its progress, showing which files are being processed and which external files are being created.

## üìÑ License

MIT ‚Äî free to use, modify, and share.

## üí¨ AI generated

This code has been generated by Christophe Avonture using AI.
