---
date: 2025-08-27
slug: docusaurus-lazy-loading
title: Overrides the generation of img tags with Docusaurus
authors: [christophe]
image: /img/components_social_media.jpg
series: Creating Docusaurus components
mainTag: component
tags: [component, docusaurus, react]
blueSkyRecordKey: 3lxekkxhjwc26
---

<!-- cspell:ignore -->

![Overrides the generation of img tags with Docusaurus](/img/components_banner.jpg)

While searching for good tips & tricks about Docusaurus when the number of articles become important, I read that we need to pay attention to lazy load images and, indeed, by default all images are loaded when a blog post is first accessed.

In this article, we'll see how to, so easily, we can intercept the creation of the `<img>` tag when the Markdown content is converted to HTML.

This conversion occurs at two places: when you're surfing on your website or when you're generating a static version of it.

<!-- truncate -->

To do this, in fact, we don't need to create a component! We just need to add some lines of code in the `src/theme/MDXComponents.js` file.

If you don't have that file yet, just create it.

:::note
The `// [...]` notation is there as a placeholder to show you that perhaps you'll have already some lines of code there. Don't delete it; just append the highlighted lines as shown below.
:::

<Snippet filename="src/theme/MDXComponents.js">

```js
import React from "react";

import MDXComponents from "@theme-original/MDXComponents";
// [...]

export default {
  // Reusing the default mapping
  ...MDXComponents,
  // highlight-start
  img: (props) => {
    const { loading, decoding, className, style, height, width, ...rest } = props;

    return (
      <img
        {...rest}
        // Make sure to keep "height='auto'" (so also disable width) as generated by Docusaurus
        // We shouldn't display the image at full size
        height='auto'
        width=''
        loading={loading || 'lazy'}
        decoding={decoding || 'async'}
        className={`${className || ''}`}

        // Example of how adding extra CSS
        style={{
          border: '20px solid #ccc',
          borderRadius: '6px',
          ...style,
        }}
      />
    );
  },
  // highlight-end
  // [...]
};

```

</Snippet>

Once added to your `MDXComponents.js` file, just return to the browser; open any post and refresh the page. You'll see that images have now the `lazy` attributes (you can verify using the dev tools panel of your browser). If like in the example given here above, you've added some CSS style; you'll see it immediately.

Easy no?
